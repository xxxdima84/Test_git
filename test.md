\#### \[Дизайн\](https://www.figma.com/file/48SekKHH50Wj8ibgTB0syJ/DT-536-%2F-%D0%A1%D0%BE%D0%B1%D1%80%D0%B0%D1%82%D1%8C-%D0%BF%D1%80%D0%BE%D1%82%D0%BE%D1%82%D0%B8%D0%BF-%D0%B4%D0%BB%D1%8F-%D1%82%D0%B0%D0%B9%D0%BC%D1%81%D0%BB%D0%BE%D1%82%D0%BE%D0%B2?type=design&node-id=1155-113226&mode=design&t=E3ZUY9UJ7cR7GQU3-0)

 

\#### Отображение

 

1\. Дропдаун в ЖЗ в формате день- все сотрудники ✅

 

2\. Модалка ✅

 

   1\. Заголовок Время для онлайн-записи -  ✅

 

   2\. Информационный баннер -  ✅

 

   3\. Иконка сотрудника с именем и специализацией -  ✅

 

      1\. Иконка установлена ✅

 

      2\. Иконка дефолтная ✅

 

      3\. Имя ✅

 

         1\. кириллица, латиница, цифры, длинное имя, xss  ✅

 

      4\. Специализация ✅

 

         1\. кириллица, латиница, цифры, длинное название, xss ✅

 

      5\. Иконка перехода на другую страницу ✅

 

         1\. при нажатии в новой вкладке открывается Настройки - Сотрудники- Сотрудник- вкладка Онлайн-запись - ✅

 

         2\. на этой вкладке ничего не меняется из того что изменилось в ЖЗ ✅

 

         3\. тултип с переводом ✅

 

   4\. Сотрудник без включенной ОЗ

 

      1\. Иконка ❌ (остается иконка у уволенного сотрудника)

 

      2\. Надпись: Выбранный сотрудник недоступен для “Онлайн-записи“  ✅

 

      3\. Кнопка Настроить ОЗ для сотрудника  ✅

 

         1\. при нажатии открывает в новой вкладке ОЗ данного сотрудника  ✅

 

   5\. Два дропдауна для выбора времени для онлайн-записи  ✅

 

   6\. Слоты отображаются:  ✅

 

      1\. сгруппированные по Утро, День, Вечер  ✅

 

      2\. всегда с шагом в 5 минут  ✅

 

      3\. 12-часовой формат  ✅

 

      4\. по дефолту нажатые?  ✅

 

      5\. x из y слотов ✅

 

         1\. корректные цифры нажатых слотов и кол-ва в группе ✅

 

   7\. Кнопки Сохранить и Сбросить все изменения ✅

 

      1\. Задизейблены если не внесены изменения (если не было изменений - не отображаются) ✅

 

      2\. Активны если есть изменения ✅

 

   8\. Закрыть модалку  ✅

 

      1\. Нажатие на крестик  ✅

 

      2\. Клик вне модалки  ✅

 

   9\. Недоступный день ✅

 

\#### Функционал ✅

 

1\. ##### Настройка слотов

 

   1\. Отжать ✅

 

      1\. по одному ✅

 

      2\. группу: Утро/День/Вечер ✅

 

      3\. отжать все и можно сохранить ✅

 

   2\. Нажать ✅

 

      1\. По одному ✅

 

      2\. Группой: Утро/День/Вечер ✅

 

   3\. Сохранить изменения ✅

 

      1\. В ЖЗ иконка у сотрудника с измененными слотами  ✅

 

         1\. тултип \+ перевод ✅

 

   4\. Сбросить изменения ✅

 

      1\. Модалка закрывается  ✅

 

      2\. Уведомление: Настройки сброшены до общих  ✅

 

      3\. Кнопка Сохранить задизейблена если не вносилось изменение  ✅

      4\. Нет кнопки сброса если не сохранено переопределение  ✅

 

   5\. Поменять и не сохранить изменения ✅

 

   6\. Время для ОЗ✅

 

      1\. 24 часа  ✅

 

      2\. 1 час ✅

 

      3\. 5 мин  ✅

 

      4\. С переходом через ночь нельзя тут установить  ✅

 

      5\. влияет установленный график сотрудника на отображение времени для ОЗ - не влияет  ✅

      6\. Уменьшить: начало конец ✅

    7\. Увеличить: начало конец  ✅

 

   7\. Редактируемый день

 

      1\. В прошлом настройка не видна ✅

 

      2\. Текущий день ✅

 

         1\. прошедшие слоты не отображаются  ✅

 

         2\. будущие слоты, но занятые ✅

 

            1\. записью (индивид/групп) ✅

 

               1\. тултип ✅

 

            2\. перерывом  ✅ говорят

 

            3\. иконка -  (проблема с обновлением) согласовано ✅

 

      3\. Будущий день

 

         1\. слоты заняты ✅

 

            1\. записью ✅

 

               1\. индивид ✅

 

               2\. событием ✅

 

            2\. перерывом ✅

 

            3\. иконка-  (проблема с обновлением) согласовано ✅

 

      4\. Весь день занят записями и перерывами ✅

 

      5\. Часовой пояс ✅

 

         1\. Калининград ✅

 

         2\. Владивосток ✅

 

   8\. В бд сохраняются данные типа predefined \\\+ flexible=false ✅

 

2\. ##### Действия в ЖЗ

 

   1\. Добавить перерыв ✅

 

   2\. Добавить запись ✅

 

      1\. индивид ✅

 

         1\. оффлайн ✅

 

         2\. онлайн ✅

     2\. Событие ✅

 

   3\. Перетащить запись ✅

 

   4\. Отменить рабочий день после переопределения ✅

 

   5\. Открыты в ЖЗ \\\+ открыть модалку ✅

 

      1\. Боковое меню для поиска клиентов ✅

 

   6\. Быстрое меню ✅

 

3\. ##### Сотрудники

 

   1\. Типы сотрудников✅

 

      1\. Работающий ✅

      2\. Уволенный ✅

        - есть уведомление Выбранный сотрудник уволен \+ перевод  ✅

    3\. ОЗ включена ✅

    4\. ОЗ выключена ✅

       - есть сообщение: Выбранный сотрудник недоступен для «Онлайн-записи» \+ перевод ✅

       – кнопка Настроить ОЗ для сотрудника  ✅

       - переход по кнопке на вкладку ОЗ сотрудника ✅

 

   2\. Действия с сотрудниками

 

      1\. Уволить после переопределения ✅

 

      2\. Восстановить из уволенных - переопределение восстанавливается ✅

 

      3\. Удалить после переопределения ✅

 

      4\. Настройки сотрудника обновляют настройки филиала

 

   3\. Отключить ОЗ сотруднику потом включить,  переопределение возвращается ✅

 

      1\. из списка сотрудников ✅  

 

      2\. на вкладке ОЗ в сущности сотрудника ✅

 

4\. ##### Вебсокеты (будут реализованы отдельно)

 

   1\. Изменение расписания в ЖЗ в соседней вкладке

      1\. добавление перерыва

 

      2\. создание записи

   2\. Изменение расписания в настройке-график работы в соседней вкладке

      1\. изменение начала и окончания рабочего дня

 

      2\. добавление перерыва

 

      3\. удаление перерыва

   3\. Отключение сотруднику ОЗ в соседней вкладке

   4\. Изменение расписания сотруднику во вкладке Расписания в сущности сотрудник

      1\. Шаблон для автозаполнения

 

      2\. Расписание

 

5\. ##### Корнер кейсы

 

   1\. Поменять график сотруднику в настройки - график работы после переопределения слотов

 

      1\. уменьшить рабочее время  ✅

 

      2\. увеличить рабочее время  ✅

 

      3\. добавить перерыв  ✅

 

      4\. Поменять на выходной  ✅

 

   2\. Поменять график сотруднику  в сущности сотрудник на вкладке Расписание

 

      1\. Через шаблон ✅

 

      2\. Через расписание ✅

 

   3\. Скрыть сотрудника из ЖЗ после переопределения ✅

 

      1\. нельзя сбросить ✅

 

   4\. Запись в статусе Клиент не пришел  – в любом случае отображается как недоступная в слотвх, если включена настройка Разрешить клиентам записываться поверх записей в статусе "Клиент не пришел" или нет ✅

 

   5\. Выбрать слот на текущее время, подождать когда время пройдет и он станет в прошлом и попробовать сохранить – слот исчезает ✅

 

6\. ##### Права

 

   1\. Нет права изменять график сотрудника в ЖЗ - нельзя менять слоты. ✅

 

      1\. право будет переименовано ✅

 

   2\. Нет права на раздел сотрудников - нельзя перейти в сотрудника ✅

 

   3\. Нет права на редактирование сотрудника - нет предложения включить ОЗ у сотрудника ✅

 

7\. ##### Настройки Онлайн-записи

 

   1\. Недоступный день учитывается даже если день отредактирован вручную

 

      1\. В настройках ОЗ  ✅

 

      2\. В сотруднике  ✅

 

      3\. Появляется новый недоступный день, если он был отредактирован через ЖЗ и убраны все слоты

        - настройка персонально для сотрудника  ✅

        - настройка по филиалу, переключить на персонально - виден недоступный день  ✅

     4\. Не появляется новый недоступный день в сотруднике, если есть хотя бы 1нажатый  слот  ✅

     5\. Отменяется недоступный день если существующий недоступный был отредактирован и к нему добавлен слот

        1\. В сотруднике ✅

        2\. В филиале ✅

   6\. Отредактированный день не становится недоступным, если был включен как недоступный день

       1\. В филиале ✅

       2\.  В сотруднике наоборот день становится недоступным в ЖЗ  ✅

 

   2\. Задержка до ближайшего сеанса НЕ  учитывается, если день отредактирован вручную

 

      1\. В настройках ОЗ ✅

 

      2\. В сотруднике ✅

 

   3\. Изменение настроек ОЗ не меняет отредактированный день

 

      1\. В настройках ОЗ   ✅

 

      2\. В сотруднике  ✅

 

   4\. Стратегия не влияет на переопределенный день (в филиале, в сотруднике)

 

      1\. predefined   ✅

 

      2\. schedule   ✅

 

      3\. timeslots   ✅

 

   5\. Переключение типа ОЗ в сотруднике на персональную/филиальную не влияет ✅

 

   6\. Редактирование слотов в ОЗ не влияет на переопределенный день

       1\. В сотруднике ✅

       2\. В филиале   ✅

  7\. Стратегия влияет на день до переопределения

     1\. Шаг  ✅

    2\. От начала рабочего дня ✅/от начала ОЗ  ✅

    3\. Оптим/Фикс  ✅

    4\. Динамичная  ✅

    5\. Отжатые слоты влияют на день до переопределения ✅

    6\. Перерывы/записи создают новые слоты при оптимальном от ОЗ ✅

    7\. Задержка влияет на то какие слоты отображаются как активные до переопределения ✅

 

8\. ##### Применение в виджете

 

   1\. Типы записей

 

      1\. Индивид  ✅

 

      2\. Групповые ✅

 

         1\. отображаются если были переопределены слоты (есть хотя бы 1 нажатый) ✅

 

         2\. не отображаются если были отжаты все слоты ✅

 

   2\. Отображаются только отредактированные слоты

 

      1\. текущий день ✅

 

      2\. через 3 дня ✅

 

   3\. Сценарии при которых отображаются корректно нажатые слоты

 

      1\. МУВ ✅

 

      2\. МВУ

 

      3\. ВУМ ✅

 

      4\. ВМУ ✅

 

      5\. УМВ ✅

 

      6\. УВМ

 

   4\. Полный флоу записи

 

      1\. Индивид ✅

 

      2\. Событие ✅

 

   5\. Ближайшие слоты

 

      1\. Отображаются корректно ✅

 

      2\. Можно сразу выбрать ✅

 

   6\. Недоступный день - слоты не отображаются ✅

 

   7\. Все слоты отжаты - слоты не отображаются ✅

 

   8\. Задержка до записи

 

      1\. В индивид ✅

 

      2\. В групповых ✅

 

   9\. Часовые пояса ✅

 

      1\. Текущий день - корректные слоты ✅

 

      2\. Задержка корректно учитывается ✅

 

Успешно ✅

Не успешно ❌

Не может быть проверено ⚠️

 